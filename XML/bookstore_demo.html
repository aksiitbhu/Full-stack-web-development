<!DOCTYPE html>
<html>
<head>
  <title>Bookstore XML Parser</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    button {
      padding: 10px 15px;
      font-size: 16px;
      cursor: pointer;
    }
    table {
      margin-top: 20px;
      width: 90%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #333;
      padding: 10px;
      text-align: center;
    }
    th {
      background-color: #f2f2f2;
    }
  </style>
</head>

<body>

  <h2>Parse XML and Display Bookstore Data</h2>
  <button onclick="loadXML()">Load Book Data</button>

  <div id="output"></div>

  <script>
    function loadXML() {
      fetch("bookstore.xml")
        .then(response => response.text())
        .then(xmlText => {
          // Convert XML string to XML DOM
          let parser = new DOMParser();
          let xmlDoc = parser.parseFromString(xmlText, "text/xml");

          // Get all <book> elements
          let books = xmlDoc.getElementsByTagName("book");

          // Create table heading
          let table = `
            <table>
              <tr>
                <th>Category</th>
                <th>Title</th>
                <th>Language</th>
                <th>Author</th>
                <th>Year</th>
                <th>Price</th>
              </tr>
          `;

          // Loop through each book and extract data
          for (let i = 0; i < books.length; i++) {
            let category = books[i].getAttribute("category");

            let titleTag = books[i].getElementsByTagName("title")[0];
            let title = titleTag.textContent;
            let lang = titleTag.getAttribute("lang");

            let author = books[i].getElementsByTagName("author")[0].textContent;
            let year = books[i].getElementsByTagName("year")[0].textContent;
            let price = books[i].getElementsByTagName("price")[0].textContent;

            table += `
              <tr>
                <td>${category}</td>
                <td>${title}</td>
                <td>${lang}</td>
                <td>${author}</td>
                <td>${year}</td>
                <td>${price}</td>
              </tr>
            `;
          }

          table += `</table>`;

          // Print table on webpage
          document.getElementById("output").innerHTML = table;
        })
        .catch(error => {
          console.log("Error:", error);
          document.getElementById("output").innerHTML =
            "<p style='color:red;'>Error loading XML file. Run using a local server.</p>";
        });
    }
  </script>

</body>
</html>
